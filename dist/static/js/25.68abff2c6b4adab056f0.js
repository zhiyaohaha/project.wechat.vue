webpackJsonp([25],{FFwQ:function(e,t,o){e.exports=o.p+"static/img/xinyongkabanner.28ecd88.png"},IH18:function(e,t){},hmB4:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o("Dd8w"),a=o.n(n),r=o("NYxO"),s={data:function(){return{mformDatas:[{description:"姓名：",placeholder:"请输入姓名",message:"请正确输入姓名",readonly:!1,name:"userName",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[\u4e00-\u9fa5]{1,}$/,regular:/^[\u4e00-\u9fa5]{1,}$/,type:"text"},{description:"身份证号：",placeholder:"请输入身份证号",message:"请正确输入身份证号",readonly:!1,name:"IDnumber",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9_xX]{1,18}$/,regular:/^\d{17}[\d|xX]|\d{15}$/,maxlength:"18",type:"text"},{description:"银行卡号：",placeholder:"请输入银行卡号",message:"请正确输入银行卡号",readonly:!1,name:"bankCard",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9]{1,19}$/,regular:/^([1-9]{1})(\d{14}|\d{18})$/,maxlength:"19",type:"number"},{description:"银行预留手机号：",placeholder:"请填写您在银行预留的手机号",message:"请正确填写手机号",readonly:!1,name:"phoneNum",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9]{1,11}$/,regular:/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9]|17[0-9])\d{8}$/,maxlength:11,type:"number"}],mformDatasInd:0,tieOnFooterIsShow:!0}},components:{},computed:a()({},Object(r.c)(["lastOrderInfo"])),watch:{$route:function(e,t){"tieOnCardPage"===e.name&&(window.history.pushState(null,"","#/myPage"),window.history.pushState(null,"","#/tieOnCardPage"))}},created:function(){var e=this;this.$store.dispatch("getLastOrderInfo").then(function(){e.lastOrderInfo&&(""!==e.lastOrderInfo.name&&(e.__findModel("userName").readonly=!0,e.__findModel("userName").model=e.lastOrderInfo.name),""!==e.lastOrderInfo.idCard?(e.__findModel("userName").readonly=!0,e.__findModel("IDnumber").model=e.lastOrderInfo.idCard):e.__findModel("userName").readonly=!1)})},mounted:function(){window.history.pushState(null,"","#/myPage"),window.history.pushState(null,"","#/tieOnCardPage")},methods:{__findModel:function(e){return this.mformDatas.find(function(t){return t.name===e})},loseFocus:function(){this.tieOnFooterIsShow=!0},goodInput:function(e,t,o){this.mformDatas[o].model;e.test(t)||t.substring(0,t.length-1)},pullDown:function(e,t){this.tieOnFooterIsShow=!1},approve:function(){for(var e=this,t=this,o=0;o<this.mformDatas.length;o++){var n=this.mformDatas[o];if(""===n.model)return void this.MessageBox.alert(n.placeholder,"提示");if(!n.regular.test(n.model))return void this.MessageBox.alert(n.message,"提示")}this.$store.commit("AWAITTRUE"),this.$store.dispatch("postIdentify4Auth",{realName:t.__findModel("userName").model,idCard:t.__findModel("IDnumber").model,bankCard:t.__findModel("bankCard").model,mobile:t.__findModel("phoneNum").model}).then(function(o){e.$store.commit("AWAITFALSE"),o.success&&o.data.isSame?e.$router.replace({name:"authenticationPage",query:{mobile:t.__findModel("phoneNum").model}}):e.MessageBox.alert(o.message,"认证失败")})}}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[e._m(0),e._v(" "),o("div",{staticClass:"tieOnCardContent"},[o("ul",{staticClass:"mform"},e._l(e.mformDatas,function(t,n){return o("li",{key:n},[o("span",{staticClass:"description"},[e._v(e._s(t.description))]),e._v(" "),"checkbox"===t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"mformData.model"}],attrs:{readonly:t.readonly,placeholder:t.placeholder,maxlength:t.maxlength,name:t.name,type:"checkbox"},domProps:{checked:Array.isArray(t.model)?e._i(t.model,null)>-1:t.model},on:{blur:e.loseFocus,input:function(o){e.goodInput(t.reg,t.model,n)},focus:e.pullDown,change:function(o){var n=t.model,a=o.target,r=!!a.checked;if(Array.isArray(n)){var s=e._i(n,null);a.checked?s<0&&(t.model=n.concat([null])):s>-1&&(t.model=n.slice(0,s).concat(n.slice(s+1)))}else e.$set(t,"model",r)}}}):"radio"===t.type?o("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"mformData.model"}],attrs:{readonly:t.readonly,placeholder:t.placeholder,maxlength:t.maxlength,name:t.name,type:"radio"},domProps:{checked:e._q(t.model,null)},on:{blur:e.loseFocus,input:function(o){e.goodInput(t.reg,t.model,n)},focus:e.pullDown,change:function(o){e.$set(t,"model",null)}}}):o("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"mformData.model"}],attrs:{readonly:t.readonly,placeholder:t.placeholder,maxlength:t.maxlength,name:t.name,type:t.type},domProps:{value:t.model},on:{blur:e.loseFocus,input:[function(o){o.target.composing||e.$set(t,"model",o.target.value)},function(o){e.goodInput(t.reg,t.model,n)}],focus:e.pullDown}}),e._v(" "),t.sendMsg||t.units?e._e():o("span",{class:{purposeList:t.purposeList},on:{click:function(t){e.pullDown()}}},[e._v("\n              "+e._s(t.units)+"\n            ")])])})),e._v(" "),o("a",{staticClass:"authentication",attrs:{href:"javascript:;"},on:{click:e.approve}},[e._v("\n      立即认证\n    ")])]),e._v(" "),o("footer",{directives:[{name:"show",rawName:"v-show",value:e.tieOnFooterIsShow,expression:"tieOnFooterIsShow"}],staticClass:"tieOnCardFooter"},[e._v("\n    实名认证仅用来确保您提交的需求真实有效，绝不泄露\n  ")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"tieOnCardHeader"},[t("img",{attrs:{src:o("FFwQ")}})])}]};var d=o("VU/8")(s,l,!1,function(e){o("IH18")},null,null);t.default=d.exports}});
//# sourceMappingURL=25.68abff2c6b4adab056f0.js.map