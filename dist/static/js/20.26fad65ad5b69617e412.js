webpackJsonp([20],{FFwQ:function(e,t,n){e.exports=n.p+"static/img/xinyongkabanner.28ecd88.png"},hmB4:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n("Dd8w"),s=n.n(o),a=n("NYxO"),r={data:function(){return{mformDatas:[{description:"姓名：",placeholder:"请输入姓名",message:"请正确输入姓名",readonly:!1,name:"userName",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[\u4e00-\u9fa5]{1,}$/,regular:/^[\u4e00-\u9fa5]{1,}$/},{description:"身份证号：",placeholder:"请输入身份证号",message:"请正确输入身份证号",readonly:!1,name:"IDnumber",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9_xX]{1,18}$/,regular:/^\d{17}[\d|xX]|\d{15}$/,maxlength:"18"},{description:"银行卡号：",placeholder:"请输入银行卡号",message:"请正确输入银行卡号",readonly:!1,name:"bankCard",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9]{1,21}$/,regular:/^[0-9]{1,21}$/,maxlength:"21"},{description:"银行预留手机号：",placeholder:"请填写您在银行预留的手机号",message:"请正确填写手机号",readonly:!1,name:"phoneNum",model:"",purposeList:!1,sendMsg:!1,units:"",reg:/^[0-9]{1,11}$/,regular:/^(13[0-9]|14[5|7]|15[0|1|2|3|5|6|7|8|9]|18[0|1|2|3|5|6|7|8|9]|17[0-9])\d{8}$/,maxlength:11}],mformDatasInd:0,tieOnFooterIsShow:!0}},components:{},computed:s()({},Object(a.c)(["lastOrderInfo"])),created:function(){var e=this;this.$store.dispatch("getLastOrderInfo").then(function(){e.lastOrderInfo&&(""!==e.lastOrderInfo.name&&(e.__findModel("userName").readonly=!0,e.__findModel("userName").model=e.lastOrderInfo.name),""!==e.lastOrderInfo.idCard&&(e.__findModel("userName").readonly=!0,e.__findModel("IDnumber").model=e.lastOrderInfo.idCard))})},mounted:function(){window.history.pushState(null,"","#/myPage"),window.history.pushState(null,"","#/tieOnCardPage")},methods:{__findModel:function(e){return this.mformDatas.find(function(t){return t.name===e})},loseFocus:function(){this.tieOnFooterIsShow=!0},goodInput:function(e,t,n){e.test(t)||(this.mformDatas[n].model=t.substring(0,t.length-1))},pullDown:function(e,t){this.tieOnFooterIsShow=!1},approve:function(){for(var e=this,t=this,n=0;n<this.mformDatas.length;n++){var o=this.mformDatas[n];if(""===o.model)return void this.MessageBox.alert(o.placeholder,"提示");if(!o.regular.test(o.model))return void this.MessageBox.alert(o.message,"提示")}this.$store.commit("AWAITTRUE"),this.$store.dispatch("postIdentify4Auth",{realName:t.__findModel("userName").model,idCard:t.__findModel("IDnumber").model,bankCard:t.__findModel("bankCard").model,mobile:t.__findModel("phoneNum").model}).then(function(n){e.$store.commit("AWAITFALSE"),n.success&&n.data.isSame?e.$router.replace({name:"authenticationPage",query:{mobile:t.__findModel("phoneNum").model}}):e.MessageBox.alert(n.message,"认证失败")})}}},i={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._m(0),e._v(" "),n("div",{staticClass:"tieOnCardContent"},[n("ul",{staticClass:"mform"},e._l(e.mformDatas,function(t,o){return n("li",{key:o},[n("span",{staticClass:"description"},[e._v(e._s(t.description))]),e._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.model,expression:"mformData.model"}],attrs:{type:"text",readonly:t.readonly,placeholder:t.placeholder,maxlength:t.maxlength,name:t.name},domProps:{value:t.model},on:{blur:e.loseFocus,input:[function(n){n.target.composing||e.$set(t,"model",n.target.value)},function(n){e.goodInput(t.reg,t.model,o)}],focus:e.pullDown}}),e._v(" "),t.sendMsg||t.units?e._e():n("span",{class:{purposeList:t.purposeList},on:{click:function(t){e.pullDown()}}},[e._v("\n              "+e._s(t.units)+"\n            ")])])})),e._v(" "),n("a",{staticClass:"authentication",attrs:{href:"javascript:;"},on:{click:e.approve}},[e._v("\n      立即认证\n    ")])]),e._v(" "),n("footer",{directives:[{name:"show",rawName:"v-show",value:e.tieOnFooterIsShow,expression:"tieOnFooterIsShow"}],staticClass:"tieOnCardFooter"},[e._v("\n    实名认证仅用来确保您提交的需求真实有效，绝不泄露\n  ")])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("header",{staticClass:"tieOnCardHeader"},[t("img",{attrs:{src:n("FFwQ")}})])}]};var d=n("VU/8")(r,i,!1,function(e){n("xYBR")},null,null);t.default=d.exports},xYBR:function(e,t){}});
//# sourceMappingURL=20.26fad65ad5b69617e412.js.map